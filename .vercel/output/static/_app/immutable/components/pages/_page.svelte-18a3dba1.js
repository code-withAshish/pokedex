import{S as B,i as Q,s as U,J,k as m,q as P,a as D,l as h,m as k,r as A,h as s,c as V,n as a,b as y,H as o,K as X,C as I,L as C,M as T,u as W,N as Y}from"../../chunks/index-2eba10e5.js";function Z(d){return{c:I,l:I,m:I,p:I,d:I}}function ee(d){let e,i,r,w,f,v,n=d[2].poke1.name+"",p,l,u,t,_,g,E,b,j,M,O,S=d[2].poke2.name+"",L,R,$;return{c(){e=m("div"),i=m("div"),r=m("img"),f=D(),v=m("p"),p=P(n),l=D(),u=m("div"),t=P("OR"),_=D(),g=m("div"),E=m("div"),b=m("img"),M=D(),O=m("p"),L=P(S),this.h()},l(c){e=h(c,"DIV",{class:!0});var x=k(e);i=h(x,"DIV",{id:!0,class:!0});var q=k(i);r=h(q,"IMG",{src:!0,alt:!0,class:!0}),q.forEach(s),f=V(x),v=h(x,"P",{class:!0});var F=k(v);p=A(F,n),F.forEach(s),x.forEach(s),l=V(c),u=h(c,"DIV",{class:!0});var z=k(u);t=A(z,"OR"),z.forEach(s),_=V(c),g=h(c,"DIV",{class:!0});var N=k(g);E=h(N,"DIV",{id:!0,class:!0});var G=k(E);b=h(G,"IMG",{src:!0,alt:!0,class:!0}),G.forEach(s),M=V(N),O=h(N,"P",{class:!0});var H=k(O);L=A(H,S),H.forEach(s),N.forEach(s),this.h()},h(){C(r.src,w=d[2].poke1.img)||a(r,"src",w),a(r,"alt","poke2"),a(r,"class","w-36 h-36 md:w-64 md:h-64 "),a(i,"id","poke1"),a(i,"class","w-36 h-36 md:w-64 md:h-64 bg-transparent hover:bg-green-500 hover:scale-105 rounded-2xl transition-all duration-200 ease-in text-lg p-4 flex items-center justify-center"),a(v,"class","capitalize pt-2"),a(e,"class","flex flex-col items-center justify-center gap-5"),a(u,"class","p-8 text-5xl"),C(b.src,j=d[2].poke2.img)||a(b,"src",j),a(b,"alt","poke2"),a(b,"class","w-36 h-36 md:w-64 md:h-64 "),a(E,"id","poke2"),a(E,"class","w-36 h-36 md:w-64 md:h-64 bg-transparent hover:bg-green-500 hover:scale-105 rounded-2xl transition-all duration-200 ease-in text-lg p-4 flex items-center justify-center"),a(O,"class","capitalize pt-2"),a(g,"class","flex flex-col items-center justify-center gap-5")},m(c,x){y(c,e,x),o(e,i),o(i,r),o(e,f),o(e,v),o(v,p),y(c,l,x),y(c,u,x),o(u,t),y(c,_,x),y(c,g,x),o(g,E),o(E,b),o(g,M),o(g,O),o(O,L),R||($=[T(i,"click",d[1]),T(E,"click",d[1])],R=!0)},p(c,x){x&1&&!C(r.src,w=c[2].poke1.img)&&a(r,"src",w),x&1&&n!==(n=c[2].poke1.name+"")&&W(p,n),x&1&&!C(b.src,j=c[2].poke2.img)&&a(b,"src",j),x&1&&S!==(S=c[2].poke2.name+"")&&W(L,S)},d(c){c&&s(e),c&&s(l),c&&s(u),c&&s(_),c&&s(g),R=!1,Y($)}}}function te(d){let e,i,r,w,f,v,n,p,l,u;return{c(){e=m("div"),i=m("span"),r=P("Loading..."),w=D(),f=m("div"),v=P("OR"),n=D(),p=m("div"),l=m("span"),u=P("Loading..."),this.h()},l(t){e=h(t,"DIV",{class:!0});var _=k(e);i=h(_,"SPAN",{class:!0});var g=k(i);r=A(g,"Loading..."),g.forEach(s),_.forEach(s),w=V(t),f=h(t,"DIV",{class:!0});var E=k(f);v=A(E,"OR"),E.forEach(s),n=V(t),p=h(t,"DIV",{class:!0});var b=k(p);l=h(b,"SPAN",{class:!0});var j=k(l);u=A(j,"Loading..."),j.forEach(s),b.forEach(s),this.h()},h(){a(i,"class","min-w-full"),a(e,"class","w-36 h-36 md:w-64 md:h-64 bg-transparent flex items-center justify-center p-4"),a(f,"class","p-8 text-5xl"),a(l,"class","min-w-full"),a(p,"class","w-36 h-36 md:w-64 md:h-64 bg-transparent flex items-center justify-center p-4")},m(t,_){y(t,e,_),o(e,i),o(i,r),y(t,w,_),y(t,f,_),o(f,v),y(t,n,_),y(t,p,_),o(p,l),o(l,u)},p:I,d(t){t&&s(e),t&&s(w),t&&s(f),t&&s(n),t&&s(p)}}}function se(d){let e,i,r,w,f,v,n,p,l={ctx:d,current:null,token:null,hasCatch:!1,pending:te,then:ee,catch:Z,value:2};return J(p=d[0],l),{c(){e=m("main"),i=m("h1"),r=P("Which pokemon is cutest?"),w=D(),f=m("div"),v=D(),n=m("div"),l.block.c(),this.h()},l(u){e=h(u,"MAIN",{class:!0});var t=k(e);i=h(t,"H1",{class:!0});var _=k(i);r=A(_,"Which pokemon is cutest?"),_.forEach(s),w=V(t),f=h(t,"DIV",{class:!0}),k(f).forEach(s),v=V(t),n=h(t,"DIV",{class:!0});var g=k(n);l.block.l(g),g.forEach(s),t.forEach(s),this.h()},h(){a(i,"class","text-2xl text-center "),a(f,"class","p-2"),a(n,"class","border rounded p-10 flex flex-col md:flex-row justify-between items-center max-w-3xl"),a(e,"class","h-screen flex flex-col items-center justify-center text-center text-white")},m(u,t){y(u,e,t),o(e,i),o(i,r),o(e,w),o(e,f),o(e,v),o(e,n),l.block.m(n,l.anchor=null),l.mount=()=>n,l.anchor=null},p(u,[t]){d=u,l.ctx=d,t&1&&p!==(p=d[0])&&J(p,l)||X(l,d,t)},i:I,o:I,d(u){u&&s(e),l.block.d(),l.token=null,l=null}}}async function K(){const d=await fetch("/api/getPokemon"),e=await d.json();if(d.ok)return{poke1:e.poke1,poke2:e.poke2};throw new Error("Data fetching failed")}function ae(d,e,i){let r=K();async function w(f){const v=f.currentTarget.id;let n={votedFor:0,votedAgainst:0};v==="poke1"?(n.votedFor=(await r).poke1.id,n.votedAgainst=(await r).poke2.id):v==="poke2"&&(n.votedFor=(await r).poke2.id,n.votedAgainst=(await r).poke1.id);const p=await fetch("/api/castVote",{method:"POST",body:JSON.stringify(n)});console.log(await p.json()),i(0,r=K())}return[r,w]}class ie extends B{constructor(e){super(),Q(this,e,ae,se,U,{})}}export{ie as default};
